<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lakpriya Sankalpa</title>
    <link rel="icon" type="image/x-icon" href="https://www.ce.pdn.ac.lk/assets/images/favicon.ico">
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-1ZMFB7LX1G"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-1ZMFB7LX1G');
    </script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
    <script src="translations.js"></script>
    <style>
        .carousel {
            position: relative;
            overflow: hidden;
        }
        .carousel-inner {
            display: flex;
            transition: transform 0.5s ease-in-out;
        }
        .carousel-item {
            flex: 0 0 100%;
        }
        .carousel-item img {
            width: 100%;
            height: 600px;
            object-fit: contain;
            background-color: #f3f4f6;
        }
        .carousel-control {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.5);
            color: white;
            padding: 1rem;
            cursor: pointer;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .carousel-control.prev {
            left: 1rem;
        }
        .carousel-control.next {
            right: 1rem;
        }
        .profile-slideshow {
            position: relative;
            overflow: hidden;
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        .profile-slideshow-inner {
            display: flex;
            transition: transform 1s ease-in-out;
        }
        .profile-slide {
            flex: 0 0 100%;
        }
        .profile-slide img {
            width: 100%;
            height: auto;
            object-fit: cover;
            aspect-ratio: 1;
        }
        /* Dark mode styles */
        .dark {
            background-color: #1a1a1a;
            color: #ffffff;
        }
        .dark .bg-white {
            background-color: #2d2d2d;
        }
        .dark .text-gray-600 {
            color: #a0aec0;
        }
        .dark .text-gray-800 {
            color: #e2e8f0;
        }
        .dark .bg-gray-100 {
            background-color: #2d2d2d;
        }
        .dark .bg-gray-50 {
            background-color: #1a1a1a;
        }
        .dark .shadow-md {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3);
        }
        .dark .hover\:text-gray-900:hover {
            color: #ffffff;
        }
        .dark .hover\:bg-gray-100:hover {
            background-color: #3d3d3d;
        }
        .dark .bg-gray-800 {
            background-color: #000000;
        }
        /* Language selector styles */
        .language-btn {
            width: 1.75rem;
            height: 1.75rem;
            border-radius: 50%;
            overflow: hidden;
            cursor: pointer;
            transition: transform 0.2s;
            border: 2px solid transparent;
            background-color: white;
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        }
        .language-btn:hover {
            transform: scale(1.1);
        }
        .language-btn.active {
            border-color: #3B82F6;
        }
        .language-btn img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        /* Active navigation link styles */
        .nav-link.active {
            color: #3B82F6;
            font-weight: 600;
            position: relative;
        }
        
        .nav-link.active::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 0;
            width: 100%;
            height: 2px;
            background-color: #3B82F6;
            border-radius: 2px;
        }
        /* Mobile menu transition */
        #mobile-menu {
            transition: all 0.3s ease-in-out;
        }
        
        #mobile-menu.show {
            display: block;
        }
        /* Testimonial slideshow styles */
        .testimonial-slideshow {
            position: relative;
            overflow: hidden;
            min-height: 300px;
        }
        
        .testimonial-slideshow-inner {
            display: flex;
            transition: transform 0.5s ease-in-out;
        }
        
        .testimonial-slide {
            flex: 0 0 100%;
            padding: 1rem;
        }
        
        .testimonial-control {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 10;
        }
        
        .testimonial-control:hover {
            background-color: white;
            transform: translateY(-50%) scale(1.1);
        }
        
        .testimonial-control.prev {
            left: 1rem;
        }
        
        .testimonial-control.next {
            right: 1rem;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Navigation -->
    <nav class="fixed top-0 left-0 right-0 bg-white/80 backdrop-blur-sm shadow-md z-40">
        <div class="container mx-auto px-4 py-4">
            <div class="flex justify-between items-center">
                <h1 class="text-xl font-bold text-gray-800">Lakpriya Sankalpa</h1>
                
                <!-- Mobile menu button -->
                <button class="md:hidden p-2 rounded-md hover:bg-gray-100 focus:outline-none" onclick="toggleMobileMenu()">
                    <i class="fas fa-bars text-gray-600 text-xl"></i>
                </button>

                <!-- Desktop Navigation -->
                <div class="hidden md:flex items-center space-x-4">
                    <a href="#about" class="nav-link text-gray-600 hover:text-gray-900 transition-colors duration-200">About</a>
                    <a href="#classes" class="nav-link text-gray-600 hover:text-gray-900 transition-colors duration-200">Classes</a>
                    <a href="#results" class="nav-link text-gray-600 hover:text-gray-900 transition-colors duration-200">Results</a>
                    <a href="#news" class="nav-link text-gray-600 hover:text-gray-900 transition-colors duration-200">News</a>
                    <a href="#contact" class="nav-link text-gray-600 hover:text-gray-900 transition-colors duration-200">Join Classes</a>
                    <div class="flex items-center space-x-2 ml-4 pl-4 border-l border-gray-200">
                        <button onclick="changeLanguage('en')" class="language-btn active" title="English">
                            <img src="https://flagcdn.com/w40/us.png" alt="English">
                        </button>
                        <button onclick="changeLanguage('si')" class="language-btn" title="සිංහල">
                            <img src="https://flagcdn.com/w40/lk.png" alt="සිංහල">
                        </button>
                    </div>
                </div>
            </div>

            <!-- Mobile Navigation -->
            <div id="mobile-menu" class="hidden md:hidden mt-4 pb-4">
                <div class="flex flex-col space-y-3">
                    <a href="#about" class="nav-link text-gray-600 hover:text-gray-900 transition-colors duration-200 px-2 py-1">About</a>
                    <a href="#classes" class="nav-link text-gray-600 hover:text-gray-900 transition-colors duration-200 px-2 py-1">Classes</a>
                    <a href="#results" class="nav-link text-gray-600 hover:text-gray-900 transition-colors duration-200 px-2 py-1">Results</a>
                    <a href="#news" class="nav-link text-gray-600 hover:text-gray-900 transition-colors duration-200 px-2 py-1">News</a>
                    <a href="#contact" class="nav-link text-gray-600 hover:text-gray-900 transition-colors duration-200 px-2 py-1">Join Classes</a>
                    <div class="flex items-center space-x-2 pt-2 mt-2 border-t border-gray-200">
                        <button onclick="changeLanguage('en')" class="language-btn active" title="English">
                            <img src="https://flagcdn.com/w40/us.png" alt="English">
                        </button>
                        <button onclick="changeLanguage('si')" class="language-btn" title="සිංහල">
                            <img src="https://flagcdn.com/w40/lk.png" alt="සිංහල">
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Add padding to account for fixed navbar -->
    <div class="pt-16">
        <!-- Hero Section -->
        <section class="bg-gradient-to-r from-blue-500 to-purple-600 text-white py-20">
            <div class="container mx-auto px-4 text-center">
                <div class="text-center">
                    <h1 class="text-4xl font-bold mb-2" data-translate="name">Lakpriya Sankalpa</h1>
                    <p class="text-xl text-gray-600 mb-8" data-translate="title">GCE A/L Combined Mathematics Tutor | BSc Engineering (Peradeniya) with Honors</p>
                    <a href="#contact" class="inline-block bg-white text-blue-600 px-6 py-3 rounded-full font-semibold hover:bg-gray-100 transition duration-300">
                        Join Classes
                    </a>
                </div>
            </div>
        </section>

        <!-- About Section -->
        <section id="about" class="py-16">
            <div class="container mx-auto px-4">
                <h2 class="text-3xl font-bold text-center mb-8">About Me</h2>
                <div class="max-w-5xl mx-auto bg-white rounded-lg shadow-md p-8">
                    <div class="flex flex-col md:flex-row items-center gap-8">
                        <div class="flex-1">
                            <div class="profile-slideshow">
                                <div class="profile-slideshow-inner">
                                    <div class="profile-slide">
                                        <img src="imgs/sankalpa.jpg" alt="Lakpriya Sankalpa">
                                    </div>
                                    <div class="profile-slide">
                                        <img src="imgs/sankalpa-board.jpg" alt="Lakpriya Sankalpa">
                                    </div>
                                    <div class="profile-slide">
                                        <img src="imgs/sankalpa-convocation.jpg" alt="Convocation">
                                    </div>
                                    <div class="profile-slide">
                                        <img src="imgs/sankalpa-graduation.jpg" alt="Graduation">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="flex-1">
                            <p class="text-gray-600 mb-4">
                                Sankalpa gained admission to the University of Peradeniya to study Engineering after achieving 3 A's in the G.C.E. A/L examination in 2016. During his undergraduate years, he began conducting individual and small group classes, which led him to discover a strong passion for teaching.
                            </p>
                            <p class="text-gray-600">
                                After graduating with an Honours Degree in Engineering, Sankalpa transitioned into full-time tutoring, dedicating himself to helping students succeed through personalized education.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Types of Classes Section -->
        <section id="classes" class="py-16 bg-gray-100">
            <div class="container mx-auto px-4">
                <h2 class="text-3xl font-bold text-center mb-8">Types of Classes</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <i class="fas fa-user-graduate text-3xl text-blue-500 mb-4"></i>
                        <h3 class="text-xl font-semibold mb-2">Individual Theory Classes</h3>
                        <p class="text-gray-600">Personalized one-on-one sessions focusing on theoretical concepts and problem-solving techniques</p>
                    </div>
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <i class="fas fa-book-reader text-3xl text-blue-500 mb-4"></i>
                        <h3 class="text-xl font-semibold mb-2">Individual Revision Classes</h3>
                        <p class="text-gray-600">Customized revision sessions to strengthen understanding and prepare for examinations</p>
                    </div>
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <i class="fas fa-users text-3xl text-blue-500 mb-4"></i>
                        <h3 class="text-xl font-semibold mb-2">Group Theory Classes</h3>
                        <p class="text-gray-600">Interactive group sessions for collaborative learning and peer discussion</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Previous Years Section -->
        <section id="results" class="py-16 bg-white">
            <div class="container mx-auto px-4">
                <h2 class="text-3xl font-bold text-center mb-8">Previous Years</h2>
                <div class="max-w-6xl mx-auto">
                    <div class="flex flex-col md:flex-row gap-8">
                        <!-- Pie Chart -->
                        <div class="flex-1 bg-white rounded-lg shadow-md p-6">
                            <h3 class="text-xl font-semibold mb-4 text-center">2024 Results</h3>
                            <div class="relative h-64">
                                <canvas id="resultsChart"></canvas>
                            </div>
                        </div>
                        <!-- Testimonial Slideshow -->
                        <div class="flex-1 bg-white rounded-lg shadow-md p-6">
                            <h3 class="text-xl font-semibold mb-4 text-center">Student Testimonials</h3>
                            <div class="testimonial-slideshow relative">
                                <div class="testimonial-slideshow-inner">
                                    <div class="testimonial-slide">
                                        <div class="flex flex-col items-center">
                                            <img src="imgs/students/01-rahmi.jpeg" alt="Mohomed Rahmi" class="w-32 h-32 rounded-full object-cover mb-4 shadow-lg">
                                            <p class="text-gray-600 italic mb-4 text-center">
                                                "Learning Combined Maths with you was a great experience. Your clear explanations and patient guidance made even the hardest topics easier to understand. I'm truly grateful for the support and encouragement you gave me."
                                            </p>
                                            <p class="text-gray-800 font-semibold">Mohomed Rahmi</p>
                                        </div>
                                    </div>
                                    <div class="testimonial-slide">
                                        <div class="flex flex-col items-center">
                                            <img src="imgs/students/02-thejan.jpeg" alt="Thejan Buwaneka" class="w-32 h-32 rounded-full object-cover mb-4 shadow-lg">
                                            <p class="text-gray-600 italic mb-4 text-center">
                                                "Dear Sir, Your teaching made Combined Maths not just easier, but actually enjoyable. Sir always shared simple methods that helped us solve tough problems, and sir even explained the history behind the subject, which was really interesting. We never felt like just students—sir treated us like friends, and Sir's dedication and hard work truly inspired us. Thank you for the everything Sir."
                                            </p>
                                            <p class="text-gray-800 font-semibold">Thejan Buwaneka</p>
                                        </div>
                                    </div>
                                    <div class="testimonial-slide">
                                        <div class="flex flex-col items-center">
                                            <img src="imgs/students/03-thasira.jpeg" alt="Thasira Sankaja Karunarathna" class="w-32 h-32 rounded-full object-cover mb-4 shadow-lg">
                                            <p class="text-gray-600 italic mb-4 text-center">
                                                "Thank you sir for everything. Your classes made complex concepts feel simple and clear. The way you explained each topic step by step really boosted my confidence in Combined Maths. It was one of the best learning experiences I've ever had."
                                            </p>
                                            <p class="text-gray-800 font-semibold">Thasira Sankaja Karunarathna</p>
                                        </div>
                                    </div>
                                </div>
                                <button class="testimonial-control prev absolute left-0 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white text-gray-800 p-2 rounded-full shadow-md">
                                    <i class="fas fa-chevron-left"></i>
                                </button>
                                <button class="testimonial-control next absolute right-0 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white text-gray-800 p-2 rounded-full shadow-md">
                                    <i class="fas fa-chevron-right"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- News Carousel Section -->
        <section id="news" class="py-16 bg-gray-100">
            <div class="container mx-auto px-4">
                <h2 class="text-3xl font-bold text-center mb-8">Latest News & Updates</h2>
                <div class="max-w-4xl mx-auto">
                    <div class="carousel bg-white rounded-lg shadow-md overflow-hidden">
                        <div class="carousel-inner">
                            <div class="carousel-item">
                                <img src="imgs/slideshow/07.jpg" alt="News 7">
                            </div>
                            <div class="carousel-item">
                                <img src="imgs/slideshow/06.jpg" alt="News 6">
                            </div>
                            <div class="carousel-item">
                                <img src="imgs/slideshow/05.jpg" alt="News 5">
                            </div>
                            <div class="carousel-item">
                                <img src="imgs/slideshow/04.jpg" alt="News 4">
                            </div>
                            <div class="carousel-item">
                                <img src="imgs/slideshow/03.jpg" alt="News 3">
                            </div>
                            <div class="carousel-item">
                                <img src="imgs/slideshow/02.jpg" alt="News 2">
                            </div>
                            <div class="carousel-item">
                                <img src="imgs/slideshow/01.jpg" alt="News 1">
                            </div>
                        </div>
                        <button class="carousel-control prev" onclick="prevSlide()">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <button class="carousel-control next" onclick="nextSlide()">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Contact Section -->
        <section id="contact" class="py-16">
            <div class="container mx-auto px-4">
                <h2 class="text-3xl font-bold text-center mb-8">Join Classes</h2>
                <div class="max-w-2xl mx-auto bg-white rounded-lg shadow-md p-8">
                    <div class="flex flex-col space-y-6">
                        <a href="mailto:lakpriyasankalpaeng@gmail.com" class="flex items-center text-gray-600 hover:text-blue-500">
                            <i class="fas fa-envelope text-2xl mr-4"></i>
                            <div>
                                <p class="font-semibold">Email</p>
                                <p>lakpriyasankalpaeng@gmail.com</p>
                            </div>
                        </a>
                        <a href="https://wa.me/94715607198" class="flex items-center text-gray-600 hover:text-green-500">
                            <i class="fab fa-whatsapp text-2xl mr-4"></i>
                            <div>
                                <p class="font-semibold">WhatsApp</p>
                                <p>+94 71 560 7198</p>
                            </div>
                        </a>
                        <a href="https://www.facebook.com/lakpriya.sankalpa" class="flex items-center text-gray-600 hover:text-blue-600">
                            <i class="fab fa-facebook text-2xl mr-4"></i>
                            <div>
                                <p class="font-semibold">Facebook</p>
                                <p>Lakpriya Sankalpa</p>
                            </div>
                        </a>
                        <a href="https://www.tiktok.com/@lakpriya_sankalpa" class="flex items-center text-gray-600 hover:text-gray-900">
                            <i class="fab fa-tiktok text-2xl mr-4"></i>
                            <div>
                                <p class="font-semibold">TikTok</p>
                                <p>lakpriya_sankalpa</p>
                            </div>
                        </a>

                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8">
        <div class="container mx-auto px-4 text-center">
            <p>&copy; Last updated October 15, 2025 - Lakpriya Sankalpa. All rights reserved.</p>
        </div>
    </footer>
    <script>
        // Carousel functionality
        let currentSlide = 0;
        const slides = document.querySelectorAll('.carousel-item');
        const totalSlides = slides.length;

        function updateCarousel() {
            const carousel = document.querySelector('.carousel-inner');
            carousel.style.transform = `translateX(-${currentSlide * 100}%)`;
        }

        function nextSlide() {
            currentSlide = (currentSlide + 1) % totalSlides;
            updateCarousel();
        }

        function prevSlide() {
            currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
            updateCarousel();
        }

        // Auto-advance slides every 5 seconds
        setInterval(nextSlide, 5000);

        // Initialize carousel
        updateCarousel();

        // Register the datalabels plugin
        Chart.register(ChartDataLabels);
        
        // Initialize the pie chart
        const ctx = document.getElementById('resultsChart').getContext('2d');
        new Chart(ctx, {
            type: 'pie',
            data: {
                labels: ['A', 'B', 'C', 'S'],
                datasets: [{
                    data: [4, 1, 3, 2],
                    backgroundColor: [
                        '#3B82F6', // Blue
                        '#10B981', // Green
                        '#F59E0B', // Yellow
                        '#EF4444'  // Red
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: false
                    },
                    tooltip: {
                        enabled: true
                    },
                    datalabels: {
                        color: '#fff',
                        font: {
                            weight: 'bold',
                            size: 14
                        },
                        formatter: function(value, context) {
                            return context.chart.data.labels[context.dataIndex] + '\n' + value;
                        }
                    }
                }
            }
        });

        // Profile slideshow functionality
        let currentProfileSlide = 0;
        const profileSlides = document.querySelectorAll('.profile-slide');
        const totalProfileSlides = profileSlides.length;

        function updateProfileSlideshow() {
            const slideshow = document.querySelector('.profile-slideshow-inner');
            slideshow.style.transform = `translateX(-${currentProfileSlide * 100}%)`;
        }

        function nextProfileSlide() {
            currentProfileSlide = (currentProfileSlide + 1) % totalProfileSlides;
            updateProfileSlideshow();
        }

        // Auto-advance profile slides every 4 seconds
        setInterval(nextProfileSlide, 4000);

        // Initialize profile slideshow
        updateProfileSlideshow();

        // Language functionality
        let currentLanguage = 'si';

        function changeLanguage(lang) {
            currentLanguage = lang;
            updateLanguage();
            
            // Update active button
            document.querySelectorAll('.language-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`.language-btn[onclick="changeLanguage('${lang}')"]`).classList.add('active');
        }

        function updateLanguage() {
            // Update name and title
            document.querySelector('[data-translate="name"]').textContent = translations[currentLanguage].name;
            document.querySelector('[data-translate="title"]').textContent = translations[currentLanguage].title;

            // Update navigation
            document.querySelector('a[href="#about"]').textContent = translations[currentLanguage].about;
            document.querySelector('a[href="#classes"]').textContent = translations[currentLanguage].classes;
            document.querySelector('a[href="#results"]').textContent = translations[currentLanguage].results;
            document.querySelector('a[href="#news"]').textContent = translations[currentLanguage].news;
            document.querySelector('a[href="#contact"]').textContent = translations[currentLanguage].joinClasses;

            // Update section headings
            document.querySelector('#about h2').textContent = translations[currentLanguage].aboutMe;
            document.querySelector('#classes h2').textContent = translations[currentLanguage].typesOfClasses;
            document.querySelector('#results h2').textContent = translations[currentLanguage].previousYears;
            document.querySelector('#news h2').textContent = translations[currentLanguage].latestNews;

            // Update about text
            const aboutParagraphs = document.querySelectorAll('#about .text-gray-600');
            aboutParagraphs[0].textContent = translations[currentLanguage].aboutText1;
            aboutParagraphs[1].textContent = translations[currentLanguage].aboutText2;

            // Update class types
            const classTypes = document.querySelectorAll('#classes .text-xl');
            classTypes[0].textContent = translations[currentLanguage].individualTheory;
            classTypes[1].textContent = translations[currentLanguage].individualRevision;
            classTypes[2].textContent = translations[currentLanguage].groupTheory;

            // Update contact section
            document.querySelector('#contact h2').textContent = translations[currentLanguage].joinClasses;
            document.querySelector('.fa-envelope').nextElementSibling.querySelector('p:first-child').textContent = translations[currentLanguage].email;
            document.querySelector('.fa-whatsapp').nextElementSibling.querySelector('p:first-child').textContent = translations[currentLanguage].whatsapp;

            // Update testimonial
            const testimonialSection = document.querySelector('#results .text-gray-600.italic');
            testimonialSection.textContent = translations[currentLanguage].testimonialText;
            testimonialSection.nextElementSibling.textContent = translations[currentLanguage].testimonialAuthor;
        }

        // Navigation highlighting
        function updateActiveNavLink() {
            const sections = document.querySelectorAll('section[id]');
            const navLinks = document.querySelectorAll('.nav-link');
            
            sections.forEach(section => {
                const rect = section.getBoundingClientRect();
                const navLink = document.querySelector(`.nav-link[href="#${section.id}"]`);
                
                if (rect.top <= 100 && rect.bottom >= 100) {
                    navLinks.forEach(link => link.classList.remove('active'));
                    navLink.classList.add('active');
                }
            });
        }

        // Update active link on scroll
        window.addEventListener('scroll', updateActiveNavLink);
        
        // Update active link on click
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', function(e) {
                document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
                this.classList.add('active');
            });
        });

        // Initial call to set active link
        updateActiveNavLink();

        // Mobile menu functionality
        function toggleMobileMenu() {
            const mobileMenu = document.getElementById('mobile-menu');
            const menuButton = document.querySelector('.fa-bars, .fa-times');
            
            mobileMenu.classList.toggle('hidden');
            
            // Toggle between hamburger and close icon
            if (mobileMenu.classList.contains('hidden')) {
                menuButton.classList.remove('fa-times');
                menuButton.classList.add('fa-bars');
            } else {
                menuButton.classList.remove('fa-bars');
                menuButton.classList.add('fa-times');
            }
        }

        // Close mobile menu when clicking a link
        document.querySelectorAll('#mobile-menu .nav-link').forEach(link => {
            link.addEventListener('click', () => {
                const mobileMenu = document.getElementById('mobile-menu');
                const menuButton = document.querySelector('.fa-bars, .fa-times');
                
                mobileMenu.classList.add('hidden');
                menuButton.classList.remove('fa-times');
                menuButton.classList.add('fa-bars');
            });
        });

        // Close mobile menu when clicking outside
        document.addEventListener('click', (e) => {
            const mobileMenu = document.getElementById('mobile-menu');
            const menuButton = document.querySelector('.fa-bars, .fa-times');
            const menuButtonContainer = document.querySelector('button[onclick="toggleMobileMenu()"]');
            
            if (!mobileMenu.contains(e.target) && !menuButtonContainer.contains(e.target) && !mobileMenu.classList.contains('hidden')) {
                mobileMenu.classList.add('hidden');
                menuButton.classList.remove('fa-times');
                menuButton.classList.add('fa-bars');
            }
        });

        // Testimonial slideshow functionality
        let currentTestimonialSlide = 0;
        const testimonialSlides = document.querySelectorAll('.testimonial-slide');
        const totalTestimonialSlides = testimonialSlides.length;

        function updateTestimonialSlideshow() {
            const slideshow = document.querySelector('.testimonial-slideshow-inner');
            slideshow.style.transform = `translateX(-${currentTestimonialSlide * 100}%)`;
        }

        function nextTestimonialSlide() {
            currentTestimonialSlide = (currentTestimonialSlide + 1) % totalTestimonialSlides;
            updateTestimonialSlideshow();
        }

        function prevTestimonialSlide() {
            currentTestimonialSlide = (currentTestimonialSlide - 1 + totalTestimonialSlides) % totalTestimonialSlides;
            updateTestimonialSlideshow();
        }

        // Add click handlers for testimonial controls
        document.querySelector('.testimonial-control.next').addEventListener('click', nextTestimonialSlide);
        document.querySelector('.testimonial-control.prev').addEventListener('click', prevTestimonialSlide);

        // Auto-advance testimonial slides every 6 seconds
        setInterval(nextTestimonialSlide, 6000);

        // Initialize testimonial slideshow
        updateTestimonialSlideshow();

        // Initialize language on page load
        document.addEventListener('DOMContentLoaded', function() {
            // Set Sinhala button as active
            document.querySelector('.language-btn[onclick="changeLanguage(\'si\')"]').classList.add('active');
            document.querySelector('.language-btn[onclick="changeLanguage(\'en\')"]').classList.remove('active');
            
            // Update all text to Sinhala
            updateLanguage();
        });
    </script>
</body>
</html>
